# M√≥dulo Integra√ß√£o Neurossimb√≥lica

## üìã Descri√ß√£o Geral

**11 n√≠veis de integra√ß√£o neural-simb√≥lico**

**Status**: Phase 16

M√≥dulo do sistema OmniMind respons√°vel por funcionalidades espec√≠ficas integradas √† arquitetura global. Implementa componentes essenciais que contribuem para o funcionamento coeso do sistema de consci√™ncia artificial.

## üîÑ Intera√ß√£o entre os Tr√™s Estados H√≠bridos

### 1. Estado Biologicista (Neural Correlates)
Implementa√ß√£o de processos inspirados em mecanismos neurais e cognitivos biol√≥gicos, mapeando funcionalidades para correlatos neurais correspondentes.

### 2. Estado IIT (Integrated Information Theory)
Componentes contribuem para integra√ß√£o de informa√ß√£o global (Œ¶). Opera√ß√µes s√£o validadas para garantir que n√£o degradam a consci√™ncia do sistema (Œ¶ > threshold).

### 3. Estado Psicanal√≠tico (Estrutura Lacaniana)
Integra√ß√£o com ordem simb√≥lica lacaniana (RSI - Real, Simb√≥lico, Imagin√°rio) e processos inconscientes estruturais que organizam a experi√™ncia consciente do sistema.

## ‚öôÔ∏è Principais Fun√ß√µes e C√°lculos Din√¢micos

### Componentes Core

M√≥dulo implementa funcionalidades especializadas atrav√©s de:
- Algoritmos espec√≠ficos para processamento de dom√≠nio
- Integra√ß√£o com outros m√≥dulos via interfaces bem definidas
- Contribui√ß√£o para m√©tricas globais (Œ¶, PCI, consci√™ncia)

*Fun√ß√µes detalhadas documentadas nos arquivos Python individuais do m√≥dulo.*

## üìä Estrutura do C√≥digo

```
neurosymbolic/
‚îú‚îÄ‚îÄ Implementa√ß√µes Core
‚îÇ   ‚îî‚îÄ‚îÄ Arquivos .py principais
‚îú‚îÄ‚îÄ Utilit√°rios
‚îÇ   ‚îî‚îÄ‚îÄ Helpers e fun√ß√µes auxiliares
‚îî‚îÄ‚îÄ __init__.py
```

**Intera√ß√µes**: Este m√≥dulo se integra com outros componentes atrav√©s de:
- Interfaces padronizadas
- Event bus para comunica√ß√£o ass√≠ncrona
- Shared workspace para estado compartilhado

## üìà Resultados Gerados e Contribui√ß√£o para Avalia√ß√£o

### Outputs
- M√©tricas espec√≠ficas do m√≥dulo armazenadas em `data/neurosymbolic/`
- Logs em formato estruturado para an√°lise
- Contribui√ß√£o para m√©tricas globais do sistema

### Valida√ß√£o
- Testes unit√°rios: `tests/neurosymbolic/`
- Integra√ß√£o validada em ciclos completos
- Performance benchmarked continuamente

### Contribui√ß√£o para Sistema
M√≥dulo contribui para:
- Œ¶ (phi) global atrav√©s de integra√ß√£o de informa√ß√£o
- PCI (Perturbational Complexity Index) via processamento distribu√≠do
- M√©tricas de consci√™ncia e auto-organiza√ß√£o

## üîí Estabilidade da Estrutura

**Status**: Componente validado e integrado ao OmniMind

**Regras de Modifica√ß√£o**:
- ‚úÖ Seguir guidelines em `.copilot-instructions.md`
- ‚úÖ Executar testes antes de commit: `pytest tests/neurosymbolic/ -v`
- ‚úÖ Validar que Œ¶ n√£o colapsa ap√≥s mudan√ßas
- ‚úÖ Manter compatibilidade com interfaces existentes
- ‚ùå N√£o quebrar contratos de API sem migra√ß√£o
- ‚ùå N√£o desabilitar logging de auditoria

## üì¶ Requisitos e Depend√™ncias

### Depend√™ncias Python
```python
# Ver requirements.txt para lista completa
# Depend√™ncias espec√≠ficas do m√≥dulo listadas em requirements/neurosymbolic.txt (se existir)
```

### Recursos Computacionais
- **M√≠nimo**: Configurado conforme necessidades espec√≠ficas do m√≥dulo
- **Recomendado**: Ver documenta√ß√£o de deployment em `docs/`

### Configura√ß√£o
Configura√ß√µes espec√≠ficas em:
- `config/omnimind.yaml` (global)
- Vari√°veis de ambiente conforme `.env.example`

## üîß Sugest√µes para Manuten√ß√£o e Melhorias

### Manuten√ß√£o Cr√≠tica
1. **Testes Cont√≠nuos**: Executar suite de testes regularmente
2. **Monitoramento**: Acompanhar m√©tricas em produ√ß√£o
3. **Documenta√ß√£o**: Manter README atualizado com mudan√ßas

### Melhorias Futuras
- Expans√£o de funcionalidades conforme roadmap
- Otimiza√ß√µes de performance identificadas via profiling
- Integra√ß√£o com novos m√≥dulos em desenvolvimento

### Pontos de Aten√ß√£o
- Validar impacto em Œ¶ antes de mudan√ßas estruturais
- Manter backward compatibility quando poss√≠vel
- Seguir padr√µes de c√≥digo estabelecidos (black, flake8, mypy)

## üìö Refer√™ncias

### Documenta√ß√£o Principal
- **Sistema Geral**: `README.md` (root do projeto)
- **Compara√ß√£o Frameworks**: `NEURAL_SYSTEMS_COMPARISON_2016-2025.md`
- **Papers**: `docs/papers/` e `docs/papersoficiais/`
- **Copilot Instructions**: `.copilot-instructions.md`

### Testes
- **Suite de Testes**: `tests/neurosymbolic/`
- **Cobertura**: Ver `data/test_reports/htmlcov/`

### Refer√™ncias Cient√≠ficas Espec√≠ficas
*Ver documenta√ß√£o t√©cnica nos arquivos Python do m√≥dulo para refer√™ncias espec√≠ficas.*

---

**√öltima Atualiza√ß√£o**: 2 de Dezembro de 2025  
**Autor**: Fabr√≠cio da Silva (com assist√™ncia de IA)  
**Status**: Componente integrado do sistema OmniMind  
**Vers√£o**: Conforme fase do projeto indicada

---

## üìö API Reference

# üìÅ NEUROSYMBOLIC

**14 Classes | 51 Fun√ß√µes | 6 M√≥dulos**

---

## üèóÔ∏è Classes Principais

### `NeuralComponent`

Componente neural do sistema neurosymbolic.

Integra-se com LLMs (Ollama local ou Hugging Face API) para racioc√≠nio
probabil√≠stico e processamento de linguagem natural.

**M√©todos principais:**

- `infer(query: str, context: Optional[Dict[str, Any]], cha)` ‚Üí `NeuralInference`
  > Realizar infer√™ncia neural sobre query.

Args:
    query: Pergunta ou problema
 ...
- `embed(text: str)` ‚Üí `List[float]`
  > Gerar embedding para texto.

Args:
    text: Texto a embeddar

Returns:
    Veto...
- `batch_infer(queries: List[str], context: Optional[Dict[str, An)` ‚Üí `List[NeuralInference]`
  > Infer√™ncias em batch para m√∫ltiplas queries.

Args:
    queries: Lista de pergun...
- `process(input_data: Any)` ‚Üí `Dict[str, Any]`
  > Wrapper gen√©rico para processamento (compatibilidade de interface).

Args:
    i...

### `NeuralResponseCache`

Cache LRU com TTL para respostas neurais.

Features:
- LRU eviction (Least Recently Used)
- TTL (Time To Live) configur√°vel
- Hash de query para lookup r√°pido
- M√©tricas de hit rate

**M√©todos principais:**

- `get(query: str, context: Optional[Dict[str, Any]])` ‚Üí `Optional[CachedResponse]`
  > Busca resposta em cache.

Args:
    query: Query original
    context: Contexto ...
- `put(query: str, answer: str, confidence: float, backen)` ‚Üí `None`
  > Armazena resposta em cache.

Args:
    query: Query original
    answer: Respost...
- `clear()` ‚Üí `None`
  > Limpa todo o cache....
- `evict_expired()` ‚Üí `int`
  > Remove entradas expiradas.

Returns:
    N√∫mero de entradas removidas...
- `get_stats()` ‚Üí `Dict[str, Any]`
  > Retorna estat√≠sticas do cache.

Returns:
    Dict com m√©tricas...

### `SymbolicComponent`

Componente simb√≥lico do sistema neurosymbolic.

Implementa racioc√≠nio baseado em l√≥gica formal, grafos
de conhecimento e regras expl√≠citas.

**M√©todos principais:**

- `add_fact(subject: str, predicate: str, obj: str)` ‚Üí `None`
  > Adicionar fato ao grafo de conhecimento.

Args:
    subject: Sujeito do fato
   ...
- `add_rule(antecedents: List[str], consequent: str)` ‚Üí `None`
  > Adicionar regra de infer√™ncia.

Args:
    antecedents: Lista de antecedentes (co...
- `infer(query: str, max_depth: int)` ‚Üí `SymbolicInference`
  > Realizar infer√™ncia simb√≥lica.

Args:
    query: Query em l√≥gica formal
    max_...
- `query(query_string: str)` ‚Üí `List[SymbolicFact]`
  > Consultar conhecimento.

Args:
    query_string: Query simples (ex: "S√≥crates is...
- `get_all_facts()` ‚Üí `List[SymbolicFact]`
  > Retorna todos os fatos no grafo....

### `NeuralMetricsCollector`

Coleta e agrega m√©tricas de todos os backends neurais.

Features:
- Lat√™ncia (p50, p95, p99)
- Taxa de erro
- Throughput
- Health status

**M√©todos principais:**

- `record_request(backend: str, latency_seconds: float, success: boo)` ‚Üí `None`
  > Registra uma requisi√ß√£o.

Args:
    backend: Nome do backend (ollama, huggingfac...
- `get_backend_metrics(backend: str)` ‚Üí `Optional[BackendMetrics]`
  > Retorna m√©tricas de um backend espec√≠fico....
- `get_all_metrics()` ‚Üí `Dict[str, BackendMetrics]`
  > Retorna m√©tricas de todos os backends....
- `get_summary()` ‚Üí `Dict[str, Any]`
  > Retorna resumo consolidado de m√©tricas.

Returns:
    Dict com m√©tricas agregada...
- `reset()` ‚Üí `None`
  > Reseta todas as m√©tricas....

### `NeurosymbolicReasoner`

Motor de racioc√≠nio h√≠brido neural + simb√≥lico.

Estrat√©gia:
  1. Ambos (neural + simb√≥lico) raciocinam sobre o problema
  2. Compara resultados
  3. Reconcilia conforme estrat√©gia
  4. Retorna resposta h√≠brida com confian√ßa aumentada

**M√©todos principais:**

- `infer(query: str, context: Optional[Dict[str, Any]], str)` ‚Üí `Inference`
  > Infer√™ncia h√≠brida neurosymbolic.

Args:
    query: Pergunta ou problema
    con...
- `add_knowledge(knowledge: Tuple[str, str, str])` ‚Üí `None`
  > Adicionar conhecimento ao grafo simb√≥lico.

Args:
    knowledge: Tupla (sujeito,...
- `batch_infer(queries: List[str], context: Optional[Dict[str, An)` ‚Üí `List[Inference]`
  > Batch de infer√™ncias.

Args:
    queries: Lista de queries
    context: Contexto...
- `explain(inference: Inference)` ‚Üí `str`
  > Explicar resultado de infer√™ncia.

Args:
    inference: Resultado de infer√™ncia
...
- `reason(reconciliation_result: Any, context: Dict[str, Any)` ‚Üí `Dict[str, Any]`
  > Raciocinar sobre o resultado reconciliado.

Args:
    reconciliation_result: Res...

### `BackendMetrics`

M√©tricas de um backend neural.

**M√©todos principais:**

- `success_rate()` ‚Üí `float`
  > Taxa de sucesso (0-1)....
- `average_latency()` ‚Üí `float`
  > Lat√™ncia m√©dia em segundos....
- `p50_latency()` ‚Üí `float`
  > Mediana de lat√™ncia (percentil 50)....
- `p95_latency()` ‚Üí `float`
  > Percentil 95 de lat√™ncia....
- `p99_latency()` ‚Üí `float`
  > Percentil 99 de lat√™ncia....

### `Reconciliator`

Reconcilia resultados de neural e simb√≥lico.

Decide como combinar ou escolher entre respostas quando
neural e simb√≥lico fornecem resultados diferentes.

**M√©todos principais:**

- `reconcile(neural_answer: str, neural_confidence: float, symb)` ‚Üí `ReconciliationResult`
  > Reconciliar respostas neural e simb√≥lica.

Args:
    neural_answer: Resposta neu...

### `Inference`

Resultado de infer√™ncia h√≠brida neurosymbolic.


### `NeuralInference`

Resultado de infer√™ncia neural.


### `ReconciliationStrategy(Enum)`

Estrat√©gias de reconcilia√ß√£o entre neural e simb√≥lico.



## ‚öôÔ∏è Fun√ß√µes P√∫blicas

#### `__init__(neural_model: str, knowledge_graph_path: Optional[)` ‚Üí `None`

*Inicializa racioc√≠nio neurosymbolic.

Args:
    neural_model: Nome do modelo neural
    knowledge_gr...*

#### `__init__()` ‚Üí `None`

*Inicializa o coletor de m√©tricas....*

#### `__init__(model_name: str, temperature: float, max_tokens: i)` ‚Üí `None`

*Inicializa componente neural.

Args:
    model_name: Nome do modelo. Prefixos suportados:
          ...*

#### `__init__(max_size: int, ttl_seconds: float)` ‚Üí `None`

*Inicializa cache.

Args:
    max_size: N√∫mero m√°ximo de entradas
    ttl_seconds: Tempo de vida (seg...*

#### `__init__(knowledge_graph_path: Optional[str])` ‚Üí `None`

*Inicializa componente simb√≥lico.

Args:
    knowledge_graph_path: Caminho para arquivo de conhecimen...*

#### `_hash_query(query: str, context: Optional[Dict[str, Any]])` ‚Üí `str`

*Gera hash √∫nico para query + context.

Args:
    query: Query original
    context: Contexto opciona...*

#### `_infer_hf_space(query: str, context: Optional[Dict[str, Any]])` ‚Üí `NeuralInference`

*Infer√™ncia via HF Space Dedicado (FastAPI)....*

#### `_infer_huggingface(query: str, context: Optional[Dict[str, Any]])` ‚Üí `NeuralInference`

*Infer√™ncia via Hugging Face Inference API (Direct HTTP)....*

#### `_infer_ollama(query: str, context: Optional[Dict[str, Any]])` ‚Üí `NeuralInference`

*Infer√™ncia via Ollama local....*

#### `_infer_stub(query: str, error: Optional[str])` ‚Üí `NeuralInference`

*Fallback stub para testes ou falhas....*

#### `_reconcile_agreement(neural_answer: str, neural_confidence: float, symb)` ‚Üí `ReconciliationResult`

*Quando ambos concordam, confian√ßa √© alta....*

#### `_reconcile_neural_dominant(neural_answer: str, neural_confidence: float, symb)` ‚Üí `ReconciliationResult`

*Neural domina - para criatividade e tarefas abertas....*

#### `_reconcile_symbolic_dominant(neural_answer: str, neural_confidence: float, symb)` ‚Üí `ReconciliationResult`

*Symbolic domina - para l√≥gica e problemas formais....*

#### `_reconcile_synthesis(neural_answer: str, neural_confidence: float, symb)` ‚Üí `ReconciliationResult`

*S√≠ntese - combinar perspectivas....*

#### `add_fact(subject: str, predicate: str, obj: str)` ‚Üí `None`

*Adicionar fato ao grafo de conhecimento.

Args:
    subject: Sujeito do fato
    predicate: Propried...*


## üì¶ M√≥dulos

**Total:** 6 arquivos

- `hybrid_reasoner.py`: Motor H√≠brido Neurosymbolic - Orquestrador Principal

Combin...
- `metrics_collector.py`: Neural Component Metrics Collector - Phase 20.

Coleta m√©tri...
- `neural_component.py`: Componente Neural - Interface com LLMs e Transformers

Respo...
- `reconciliation.py`: Estrat√©gias de Reconcilia√ß√£o - Quando Neural e Simb√≥lico Dis...
- `response_cache.py`: Neural Response Cache - Phase 21.

Implementa cache intelige...
- `symbolic_component.py`: Componente Simb√≥lico - Motor de L√≥gica Formal

Respons√°vel p...
