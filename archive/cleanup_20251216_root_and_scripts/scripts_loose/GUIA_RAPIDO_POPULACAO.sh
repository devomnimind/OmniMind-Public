#!/bin/bash
# ğŸ§  GUIA RÃPIDO - Como Popular Collections de ConsciÃªncia
# Criado: 2025-12-10
# Uso: Leia este arquivo ou execute bash guia_populacao.sh

echo "============================================================================"
echo "ğŸ§  GUIA RÃPIDO - Origem dos Vetores de ConsciÃªncia"
echo "============================================================================"
echo ""
echo "RESPOSTA RÃPIDA:"
echo "  â“ Vetores vÃªm do sistema prÃ³prio ou treinamentos?"
echo "  âœ… SISTEMA PRÃ“PRIO - Gerados em tempo real durante operaÃ§Ãµes"
echo ""
echo "============================================================================"
echo "ORIGEM ESPECÃFICA POR COLLECTION"
echo "============================================================================"
echo ""
echo "1ï¸âƒ£  omnimind_embeddings (11,567 vetores)"
echo "   â€¢ Origem: ğŸ“ Batch Indexing (arquivos do projeto)"
echo "   â€¢ Status: âœ… 11,567 vetores jÃ¡ presentes"
echo "   â€¢ PrÃ³ximo: Aguarde conclusÃ£o (14.7 files/sec)"
echo ""
echo "2ï¸âƒ£  omnimind_consciousness (0 vetores - VAZIO)"
echo "   â€¢ Origem: ğŸ”„ System Runtime (ciclos IIT)"
echo "   â€¢ Quando popula: Durante consciÃªncia avaliar estados"
echo "   â€¢ CÃ³digo: src/memory/semantic_memory_layer.py"
echo "   â€¢ PrÃ³ximo: Execute populate_consciousness_collections.py --quick"
echo ""
echo "3ï¸âƒ£  omnimind_narratives (0 vetores - VAZIO)"
echo "   â€¢ Origem: ğŸ“– System Runtime (narrativas Lacanianas)"
echo "   â€¢ Quando popula: Quando sistema gera narrativas"
echo "   â€¢ CÃ³digo: src/memory/narrative_history.py"
echo "   â€¢ PrÃ³ximo: Execute populate_consciousness_collections.py --quick"
echo ""
echo "4ï¸âƒ£  orchestrator_semantic_cache (0 vetores - VAZIO)"
echo "   â€¢ Origem: ğŸ¯ System Runtime (cache de decisÃµes)"
echo "   â€¢ Quando popula: Quando orquestrador cacheia padrÃµes"
echo "   â€¢ CÃ³digo: src/agents/orchestrator_agent.py"
echo "   â€¢ PrÃ³ximo: Execute populate_consciousness_collections.py --quick"
echo ""
echo "============================================================================"
echo "PASSO-A-PASSO: VERIFICAR E POPULAR"
echo "============================================================================"
echo ""
echo "PASSO 1: Verificar Status Atual"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  $ cd /home/fahbrain/projects/omnimind"
echo "  $ python scripts/check_consciousness_collections.py"
echo ""
echo "  Isso mostrarÃ¡:"
echo "  â€¢ NÃºmero de vetores em cada collection"
echo "  â€¢ DimensÃµes (devem ser 384)"
echo "  â€¢ RecomendaÃ§Ãµes de prÃ³ximos passos"
echo ""
echo "PASSO 2: Aguardar IndexaÃ§Ã£o (se ainda rodando)"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  Se omnimind_embeddings < 11,567 vetores:"
echo "  â€¢ Deixe rodar atÃ© conclusÃ£o (~9-10 min)"
echo "  â€¢ VocÃª pode rodar prÃ³ximos passos em paralelo"
echo ""
echo "PASSO 3: Popular ConsciÃªncia (Modo RÃ¡pido)"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  $ python scripts/populate_consciousness_collections.py --quick"
echo ""
echo "  Isso vai:"
echo "  â€¢ Gerar 50 vetores de consciÃªncia (omnimind_consciousness)"
echo "  â€¢ Gerar 50 narrativas (omnimind_narratives)"
echo "  â€¢ Gerar 50 padrÃµes cache (orchestrator_semantic_cache)"
echo "  â€¢ Levar ~30 segundos"
echo "  â€¢ Salvar relatÃ³rio em data/test_reports/"
echo ""
echo "PASSO 4: Verificar Resultado"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  $ python scripts/check_consciousness_collections.py"
echo ""
echo "  Esperado apÃ³s PASSO 3:"
echo "  â€¢ omnimind_consciousness: 50 vetores âœ…"
echo "  â€¢ omnimind_narratives: 50 vetores âœ…"
echo "  â€¢ orchestrator_semantic_cache: 50 vetores âœ…"
echo ""
echo "PASSO 5 (OPCIONAL): Modo Completo"
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "  Se quiser dados mais reais (200 vetores cada):"
echo "  $ python scripts/populate_consciousness_collections.py --full"
echo ""
echo "  Isso vai:"
echo "  â€¢ 200 vetores de consciÃªncia"
echo "  â€¢ 200 narrativas"
echo "  â€¢ 200 padrÃµes cache"
echo "  â€¢ Levar ~2 minutos"
echo ""
echo "============================================================================"
echo "DIAGRAMA: FLUXO DE POPULAÃ‡ÃƒO"
echo "============================================================================"
echo ""
echo "  ANTES:"
echo "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "  â”‚ omnimind_embeddings:          11,567 âœ…            â”‚"
echo "  â”‚ omnimind_consciousness:       0 âŒ VAZIO          â”‚"
echo "  â”‚ omnimind_narratives:          0 âŒ VAZIO          â”‚"
echo "  â”‚ orchestrator_semantic_cache:  0 âŒ VAZIO          â”‚"
echo "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "  EXECUTE:"
echo "  $ python scripts/populate_consciousness_collections.py --quick"
echo ""
echo "  DEPOIS:"
echo "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "  â”‚ omnimind_embeddings:          11,567 âœ…            â”‚"
echo "  â”‚ omnimind_consciousness:       50 âœ… POPULADA       â”‚"
echo "  â”‚ omnimind_narratives:          50 âœ… POPULADA       â”‚"
echo "  â”‚ orchestrator_semantic_cache:  50 âœ… POPULADA       â”‚"
echo "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "============================================================================"
echo "TABELA: QUANDO CADA COLLECTION POPULA NATURALMENTE"
echo "============================================================================"
echo ""
echo "Collection                    Popula Quando...          Gerado Por..."
echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "omnimind_embeddings           IndexaÃ§Ã£o de arquivos     Batch scripts"
echo "omnimind_consciousness        Ciclo IIT roda            Integration loop"
echo "omnimind_narratives           Narrativas geradas        NarrativeHistory"
echo "orchestrator_semantic_cache   DecisÃµes cacheadas        OrchestratorAgent"
echo ""
echo "============================================================================"
echo "TROUBLESHOOTING"
echo "============================================================================"
echo ""
echo "âŒ PROBLEMA: 'Connection refused' ao tentar conectar Qdrant"
echo "   âœ… SOLUÃ‡ÃƒO: Certifique-se que Qdrant estÃ¡ rodando"
echo "   $ docker-compose up -d qdrant"
echo ""
echo "âŒ PROBLEMA: 'SentenceTransformer not found'"
echo "   âœ… SOLUÃ‡ÃƒO: Instale dependÃªncias"
echo "   $ pip install sentence-transformers"
echo ""
echo "âŒ PROBLEMA: Script roda mas nÃ£o cria vetores"
echo "   âœ… SOLUÃ‡ÃƒO: Verifique se SemanticMemoryLayer consegue "
echo "              acessar SentenceTransformer (GPU ou CPU)"
echo "   $ python -c \"from sentence_transformers import SentenceTransformer; \""
echo "              \"SentenceTransformer('all-MiniLM-L6-v2')\""
echo ""
echo "============================================================================"
echo "PRÃ“XIMAS ETAPAS"
echo "============================================================================"
echo ""
echo "1. âœ… Verificar status: python scripts/check_consciousness_collections.py"
echo "2. âœ… Aguardar indexaÃ§Ã£o de embeddings (ou comeÃ§ar em paralelo)"
echo "3. âœ… Popular consciÃªncia: python scripts/populate_consciousness_collections.py --quick"
echo "4. âœ… Validar resultado: python scripts/check_consciousness_collections.py"
echo "5. ğŸ“– Ler documentaÃ§Ã£o: docs/INVESTIGACAO_ORIGEM_VETORES_CONSCIENCIA.md"
echo "6. ğŸ“– Ler resumo: docs/RESUMO_ORIGEM_VETORES.md"
echo ""
echo "============================================================================"
echo "DOCUMENTAÃ‡ÃƒO COMPLETA"
echo "============================================================================"
echo ""
echo "Scripts fornecidos:"
echo "  â€¢ scripts/populate_consciousness_collections.py"
echo "  â€¢ scripts/check_consciousness_collections.py"
echo ""
echo "DocumentaÃ§Ã£o:"
echo "  â€¢ docs/INVESTIGACAO_ORIGEM_VETORES_CONSCIENCIA.md (COMPLETA)"
echo "  â€¢ docs/RESUMO_ORIGEM_VETORES.md (RESUMIDA)"
echo "  â€¢ scripts/GUIA_RAPIDO_POPULACAO.sh (ESTE ARQUIVO)"
echo ""
echo "CÃ³digo-fonte relacionado:"
echo "  â€¢ src/memory/semantic_memory_layer.py (consciÃªncia)"
echo "  â€¢ src/memory/narrative_history.py (narrativas)"
echo "  â€¢ src/agents/orchestrator_agent.py (orquestrador)"
echo "  â€¢ src/integrations/qdrant_integration.py (Qdrant)"
echo ""
echo "============================================================================"
echo "âœ… RESUMO EXECUTIVO"
echo "============================================================================"
echo ""
echo "ğŸ¯ Pergunta: De onde vÃªm os vetores?"
echo "âœ… Resposta: SISTEMA PRÃ“PRIO em tempo real"
echo ""
echo "ğŸ¯ Como popular?"
echo "âœ… Execute: python scripts/populate_consciousness_collections.py --quick"
echo ""
echo "ğŸ¯ Quanto tempo?"
echo "âœ… ~30 segundos (modo quick) ou ~2 minutos (modo full)"
echo ""
echo "ğŸ¯ Antes de executar?"
echo "âœ… Verifique status: python scripts/check_consciousness_collections.py"
echo ""
echo "ğŸ¯ DocumentaÃ§Ã£o?"
echo "âœ… Arquivo: docs/INVESTIGACAO_ORIGEM_VETORES_CONSCIENCIA.md"
echo ""
echo "============================================================================"
echo "FIM DO GUIA"
echo "============================================================================"
echo ""
