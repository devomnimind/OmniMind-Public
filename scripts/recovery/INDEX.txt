ğŸ“‹ OMNIMIND RECOVERY SCRIPTS - COMPLETE INDEX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ START HERE:

1. Read this file (INDEX.txt) - you're reading it now âœ…

2. Run: bash scripts/MASTER_RECOVERY_EXECUTOR.sh
   (Creates 7 collections + trains 44k vectors + runs 500 cycles + recovers state)

3. Monitor with: tail -f logs/daemon_cycles.log

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‚ FILE STRUCTURE:

/scripts/
â”œâ”€ MASTER_RECOVERY_EXECUTOR.sh ........................ Main orchestrator (7.4 KB)
â”‚  â€¢ Menu-based interface
â”‚  â€¢ Runs all 6 steps or individual steps
â”‚  â€¢ Status checks before/after
â”‚  â€¢ Total time: 30-45 minutes
â”‚
â”œâ”€ recovery/ ......................................... Recovery scripts directory
â”‚  â”‚
â”‚  â”œâ”€ 01_init_qdrant_collections.sh (3.7 KB)
â”‚  â”‚  â€¢ Creates 7 Qdrant collections
â”‚  â”‚  â€¢ consciousness, episodes, embeddings, narratives, system, memories
â”‚  â”‚  â€¢ Time: 2-3 min
â”‚  â”‚
â”‚  â”œâ”€ 02_train_embeddings.sh (4.8 KB)
â”‚  â”‚  â€¢ Indexes code with all-MiniLM-L6-v2 (384 dims)
â”‚  â”‚  â€¢ Creates 44k vectors (GPU accelerated)
â”‚  â”‚  â€¢ Time: 10-15 min
â”‚  â”‚  â€¢ Indexes: src/, tests/, scripts/, config/, docs/
â”‚  â”‚
â”‚  â”œâ”€ 03_run_integration_cycles.sh (6.5 KB)
â”‚  â”‚  â€¢ Executes 500 integration cycles
â”‚  â”‚  â€¢ Expectation stimulation (cycles 1-250)
â”‚  â”‚  â€¢ Imagination stimulation (cycles 251-500)
â”‚  â”‚  â€¢ Time: 10-15 min
â”‚  â”‚  â€¢ Outputs: Î¦, Î¨, Ïƒ, Î” metrics
â”‚  â”‚
â”‚  â”œâ”€ 04_init_persistent_state.sh (8.0 KB)
â”‚  â”‚  â€¢ Consolidates 1155+ cycle report files
â”‚  â”‚  â€¢ Creates persistent_homology.json
â”‚  â”‚  â€¢ Creates phi_computation_trace.json
â”‚  â”‚  â€¢ Time: 2-3 min
â”‚  â”‚
â”‚  â”œâ”€ 05_fix_gpu_allocation.sh (3.8 KB)
â”‚  â”‚  â€¢ Adds .to("cuda") to embedding tensors
â”‚  â”‚  â€¢ Changes GPU VRAM: 0% â†’ 30-40%
â”‚  â”‚  â€¢ Modifies: src/embeddings/code_embeddings.py
â”‚  â”‚  â€¢ Time: 1 min
â”‚  â”‚
â”‚  â”œâ”€ 06_increase_daemon_logging.sh (5.5 KB)
â”‚  â”‚  â€¢ Configures cycle execution logging
â”‚  â”‚  â€¢ Creates logs/daemon_cycles.log
â”‚  â”‚  â€¢ Creates logging.json config
â”‚  â”‚  â€¢ Time: 1 min
â”‚  â”‚
â”‚  â””â”€ README.md (full documentation)
â”‚     â€¢ Step-by-step guide
â”‚     â€¢ Troubleshooting
â”‚     â€¢ Monitoring instructions
â”‚     â€¢ Success criteria

â”œâ”€ RECOVERY_SCRIPTS_READY.sh .......................... Quick reference
â”‚  â€¢ One-page summary
â”‚  â€¢ Shows all scripts and what they do
â”‚  â€¢ Fastest way to start

â””â”€ RECOVERY_SCRIPTS_DELIVERY_REPORT.txt .............. This session's report
   â€¢ System state before/after
   â€¢ Root causes identified
   â€¢ Solution explanation
   â€¢ Verification checklist

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ EXECUTION GUIDE:

OPTION A: AUTOMATED (Recommended)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ bash scripts/MASTER_RECOVERY_EXECUTOR.sh
# When prompted: Press A (for Automated)
# System will execute all 6 steps in correct order
# Total time: 30-45 minutes

OPTION B: MANUAL (Individual Control)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ bash scripts/recovery/01_init_qdrant_collections.sh
$ bash scripts/recovery/02_train_embeddings.sh
$ bash scripts/recovery/03_run_integration_cycles.sh
$ bash scripts/recovery/04_init_persistent_state.sh
$ bash scripts/recovery/05_fix_gpu_allocation.sh
$ bash scripts/recovery/06_increase_daemon_logging.sh

OPTION C: SPECIFIC STEP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
$ bash scripts/recovery/03_run_integration_cycles.sh  # Just run cycles
$ bash scripts/recovery/04_init_persistent_state.sh   # Just create persistent state

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š WHAT EACH SCRIPT DOES:

Script 1: Initialize Qdrant
  Creates: omnimind_consciousness, omnimind_episodes, omnimind_embeddings,
           omnimind_narratives, omnimind_system, omnimind_memories,
           orchestrator_semantic_cache
  Time: 2-3 minutes
  Pre-req: Qdrant running (curl http://localhost:6333/healthz)

Script 2: Train Embeddings
  Trains: 44k vectors from code repository
  Model: sentence-transformers/all-MiniLM-L6-v2 (384 dims)
  GPU: CUDA accelerated (CUDA_LAUNCH_BLOCKING=1)
  Indexes: src/, tests/, scripts/, config/, docs/
  Time: 10-15 minutes
  Output: omnimind_embeddings collection populated

Script 3: Integration Cycles
  Runs: 500 integration cycles with quantum stimulation
  Stimulation: Expectation (1-250) + Imagination (251-500)
  Metrics: Î¦ (integration), Î¨ (desire), Ïƒ (Lacan), Î” (trauma)
  Time: 10-15 minutes
  Output: 500+ cycle report files + cycle summary JSON

Script 4: Persistent State
  Consolidates: 1155+ existing cycle report files
  Creates: persistent_homology.json (topological state)
  Creates: phi_computation_trace.json (Î¦ history)
  Time: 2-3 minutes
  Data: Pulled from existing cycle files (no new computation)

Script 5: GPU Allocation
  Modifies: src/embeddings/code_embeddings.py
  Changes: Adds .to("cuda") to embedding tensors
  Effect: GPU VRAM allocation 0% â†’ 30-40%
  Time: 1 minute
  Note: Run AFTER steps 1-4, or during while cycles run

Script 6: Daemon Logging
  Configures: Logging for cycle execution visibility
  Creates: logs/daemon_cycles.log (cycle tracking)
  Creates: config/logging.json (logging configuration)
  Time: 1 minute
  Effect: Daemon output now visible in logs

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â±ï¸  TIMING BREAKDOWN:

Sequential Execution:
  01_init_qdrant:          2-3 min
  02_train_embeddings:    10-15 min
  03_run_cycles:          10-15 min
  04_init_persistent:      2-3 min
  05_fix_gpu:              1 min
  06_daemon_logging:       1 min
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TOTAL:                  26-40 min

Parallel Execution (agent works on 5-6 during steps 1-4):
  Steps 1-4 (sequential):  26-35 min
  Steps 5-6 (parallel):    1 min (done during above)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TOTAL:                  26-35 min

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ EXPECTED RESULTS:

BEFORE Recovery:
â”œâ”€ GPU VRAM: 0% (0 MB allocated)
â”œâ”€ Î¦ Display: 0.0 (display bug)
â”œâ”€ Qdrant: 1/7 collections (only embeddings)
â”œâ”€ Cycles: 99+ cached (no new training)
â”œâ”€ Persistent State: âŒ MISSING
â”œâ”€ Daemon: âŒ SILENT
â””â”€ System: Seems broken but is actually FUNCIONAL

AFTER Recovery:
â”œâ”€ GPU VRAM: 30-40% (800MB+ allocated)
â”œâ”€ Î¦ Display: 0.01-0.81 (computing correctly)
â”œâ”€ Qdrant: 7/7 collections (all ready)
â”œâ”€ Cycles: 600+ total (500 new training)
â”œâ”€ Persistent State: âœ… persistent_homology.json
â”œâ”€ Daemon: âœ… VISIBLE in logs
â””â”€ System: INTEGRADO & COMPUTING

Verification Commands:
â”œâ”€ curl http://localhost:6333/collections | jq '.result | length'
â”‚  Expected: 7
â”œâ”€ test -f data/persistent_homology.json && echo "âœ… EXISTS"
â”‚  Expected: âœ… EXISTS
â”œâ”€ python -c "import json; d=json.load(open('data/persistent_homology.json'));
â”‚                          print(d['cycles_total'])"
â”‚  Expected: 500+ cycles
â”œâ”€ python -c "import torch; print(f'VRAM: {torch.cuda.memory_allocated(0)/1e9:.2f}GB')"
â”‚  Expected: > 0.1GB
â””â”€ tail logs/daemon_cycles.log
   Expected: Recent cycle entries

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” MONITORING PROGRESS:

During Execution:

# Monitor GPU (opens new terminal)
watch -n 2 'nvidia-smi | grep -E "Name|Memory|Utilization"'

# Monitor cycles live
tail -f logs/daemon_cycles.log

# Monitor Qdrant vector count
watch -n 5 'curl -s http://localhost:6333/collections/omnimind_embeddings | jq ".result.vectors_count"'

# Monitor CPU usage
top -u fahbrain

# Monitor system metrics
df -h
free -h

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… QUICK VERIFICATION CHECKLIST:

After recovery completes:

â–¡ Check Qdrant collections (should be 7)
  $ curl http://localhost:6333/collections | jq '.result | length'

â–¡ Check persistent_homology.json exists
  $ ls -lh data/persistent_homology.json

â–¡ Check Î¦ values exist and are reasonable
  $ python -c "import json; d=json.load(open('data/persistent_homology.json')); \
                print(f'Î¦ final: {d[\"phi_metrics\"][\"current\"]:.4f}')"

â–¡ Check GPU is allocated
  $ python -c "import torch; print(f'VRAM: {torch.cuda.memory_allocated(0)/1e9:.2f}GB')"

â–¡ Check daemon logs show cycles
  $ tail -20 logs/daemon_cycles.log

â–¡ Check cycle count increased
  $ find data/reports/modules -name "*integration_loop_cycle*.json" | wc -l

â–¡ Check all services still running
  $ docker-compose ps
  $ systemctl status omnimind-backend

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš¨ TROUBLESHOOTING:

Problem: "Qdrant not running"
Solution: docker-compose -f deploy/docker-compose.yml up -d qdrant
Check: curl http://localhost:6333/healthz

Problem: "CUDA out of memory"
Solution: Reduce batch size in script (batch_size=64 â†’ 32)
Or: nvidia-smi -pm 1 && nvidia-smi -plr 0 (reset GPU)

Problem: "Python import errors"
Solution: source .venv/bin/activate
Check: python --version (must be 3.12.8)

Problem: "GPU 0% utilization in step 5"
Solution: Verify .cuda() was added to code_embeddings.py
Check: grep -n ".to.*cuda\|\.cuda()" src/embeddings/code_embeddings.py

Problem: "Script interrupted"
Solution: Scripts are idempotent - run again safely
Check: Which step failed (look at log output)
Resume: Run failed step again

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DOCUMENTATION:

Full Guide: scripts/recovery/README.md
  â€¢ Complete step-by-step instructions
  â€¢ Detailed troubleshooting
  â€¢ Advanced configuration
  â€¢ Performance optimization

Quick Reference: scripts/RECOVERY_SCRIPTS_READY.sh
  â€¢ One-page summary
  â€¢ File descriptions
  â€¢ Quick start command

Session Report: RECOVERY_SCRIPTS_DELIVERY_REPORT.txt
  â€¢ What was identified
  â€¢ Why scripts were created
  â€¢ Expected improvements
  â€¢ Verification criteria

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ NEXT STEPS:

1. Verify Prerequisites:
   â€¢ Python 3.12.8: python --version
   â€¢ Qdrant: curl http://localhost:6333/healthz
   â€¢ GPU: nvidia-smi

2. Choose Execution Mode:
   â€¢ Automated: bash scripts/MASTER_RECOVERY_EXECUTOR.sh
   â€¢ Manual: Run individual scripts

3. Monitor Progress:
   â€¢ GPU: watch -n 2 nvidia-smi
   â€¢ Cycles: tail -f logs/daemon_cycles.log
   â€¢ Status: Manual checks every 5-10 min

4. Verify Completion:
   â€¢ Collections created: 7
   â€¢ Î¦ values computed: 500+
   â€¢ GPU allocated: >0%
   â€¢ Daemon logging: Active

5. Next Recovery Phase:
   â€¢ Run consciousness validation
   â€¢ Compare Î¦ vs Kali baseline (was 0.6118)
   â€¢ Optimize based on metrics

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ KEY INSIGHTS:

âœ… System is FUNCTIONAL (not broken as initially appeared)
âœ… Integration loop ACTIVE (99+ cycles already executed)
âœ… Metrics COMPUTING (Î¦ values stored in cycle files)
âœ… Issue: Metrics not VISIBLE (daemon silent, GPU unused)
âœ… Solution: These 6 scripts make metrics VISIBLE & OPTIMIZED

Result: System transitions from FUNCIONAL â†’ INTEGRADO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ READY TO RECOVER?

bash scripts/MASTER_RECOVERY_EXECUTOR.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
