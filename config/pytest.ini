[pytest]
pythonpath = src
testpaths = tests
python_files = test_*.py
python_classes = Test
python_functions = test_*

# CUSTOM MARKERS (OMNIMIND PROJECT)
# NOTE: Built-in pytest markers (skipif, parametrize, timeout, xfail, skip, etc)
# are NOT listed here but are available. See Python docs for pytest.mark.
markers =
    asyncio: mark tests that use async/await
    slow: mark slow-running tests (timeout > 30s) - excluded from run_tests_fast.sh
    security: mark security-focused suites
    parallel: mark tests that can run in parallel safely
    serial: mark tests that must run serially (e.g., database tests)
    mock: mark tests that use @patch decorators (structure validation only)
    semi_real: mark tests without @patch but without full LLM integration
    real: mark tests with full GPU+LLM+Network integration (measures real metrics) - excluded from run_tests_fast.sh
    chaos: mark tests that destroy/crash server intentionally (WEEKLY/CHAOS ENGINEERING ONLY - excluded from run_tests_fast.sh)

# TIMEOUT CONFIGURATION (GLOBAL AND PROGRESSIVE FOR ENTIRE SESSION)
# --timeout=800: Global cumulative timeout in seconds for entire test session (~13.3 min max)
# This is NOT per-test timeout, but per-SESSION timeout (all tests combined)
# Each test gets its own time slice. If one test takes too long, remaining tests get less time
# Marker @pytest.mark.slow indicates tests that take >30s (excluded from run_tests_fast.sh)
# Decorator @pytest.mark.timeout(seconds) can set SPECIFIC per-test timeouts if needed (overrides global)
addopts =
    -v
    -s
    --tb=short
    --strict-markers
    --disable-warnings
    --maxfail=100
    --timeout=800
    --timeout_method=thread
